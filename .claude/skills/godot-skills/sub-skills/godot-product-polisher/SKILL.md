---
name: godot-product-polisher
description: Godot äº§å“ç¾åŒ–ä¸æ‰“ç£¨ä¸“å®¶ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€æè¿°è‡ªåŠ¨å®Œæˆè§†è§‰æ•ˆæœå¢å¼ºã€éŸ³æ•ˆä¼˜åŒ–ã€ç”¨æˆ·ä½“éªŒæ”¹è¿›ã€æˆå“åŒ…è£…ç­‰ç¾åŒ–å·¥ä½œ
---

# Godot äº§å“ç¾åŒ–ä¸“å®¶æŠ€èƒ½

## æŠ€èƒ½æ¦‚è¿°

`godot-product-polisher` æ˜¯ä¸“é—¨ç”¨äº Godot æ¸¸æˆäº§å“ç¾åŒ–ä¸æ‰“ç£¨çš„æ™ºèƒ½åŒ–æŠ€èƒ½ï¼Œèƒ½å¤Ÿæ ¹æ®ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€æè¿°è‡ªåŠ¨å®Œæˆè§†è§‰æ•ˆæœå¢å¼ºã€éŸ³æ•ˆä¼˜åŒ–ã€ç”¨æˆ·ä½“éªŒæ”¹è¿›ã€æˆå“åŒ…è£…ã€å‘å¸ƒå‡†å¤‡ç­‰å…¨é¢çš„äº§å“ç¾åŒ–å·¥ä½œï¼Œè®©æ¸¸æˆä»"èƒ½ç”¨"æå‡åˆ°"ç²¾ç¾"ã€‚

## æ ¸å¿ƒåŠŸèƒ½

### ğŸ¨ è§†è§‰æ•ˆæœå¢å¼º
- **å…‰å½±æ•ˆæœ**ï¼šåŠ¨æ€å…‰ç…§ã€é˜´å½±ã€åå°„ç­‰é«˜çº§è§†è§‰æ•ˆæœ
- **ç²’å­ç‰¹æ•ˆ**ï¼šç²¾ç¾çš„ç²’å­ç‰¹æ•ˆå’Œç¯å¢ƒåŠ¨ç”»
- **åå¤„ç†æ•ˆæœ**ï¼šè‰²å½©æ ¡æ­£ã€æ³›å…‰ã€æ™¯æ·±ç­‰åå¤„ç†
- **æè´¨å‡çº§**ï¼šé«˜çº§PBRæè´¨å’Œç€è‰²å™¨æ•ˆæœ

### ğŸµ éŸ³æ•ˆç³»ç»Ÿä¼˜åŒ–
- **åŠ¨æ€éŸ³æ•ˆ**ï¼šæƒ…å¢ƒæ„ŸçŸ¥çš„åŠ¨æ€éŸ³æ•ˆç³»ç»Ÿ
- **ç¯å¢ƒéŸ³æ•ˆ**ï¼šæ²‰æµ¸å¼çš„ç¯å¢ƒéŸ³æ•ˆå’Œæ°›å›´éŸ³ä¹
- **éŸ³æ•ˆæ··åˆ**ï¼šæ™ºèƒ½çš„éŸ³é¢‘æ··åˆå’Œå¹³è¡¡
- **3DéŸ³æ•ˆ**ï¼šç©ºé—´éŸ³é¢‘å’ŒéŸ³æ•ˆå®šä½

### ğŸ® ç”¨æˆ·ä½“éªŒæ”¹è¿›
- **æ‰‹æ„Ÿå’Œåé¦ˆ**ï¼šæ“ä½œæ‰‹æ„Ÿä¼˜åŒ–å’Œè§¦è§‰åé¦ˆ
- **æµç•…è¿‡æ¸¡**ï¼šåœºæ™¯åˆ‡æ¢å’ŒçŠ¶æ€å˜åŒ–çš„æ— ç¼è¿‡æ¸¡
- **å¼•å¯¼ç³»ç»Ÿ**ï¼šæ™ºèƒ½çš„æ–°æ‰‹å¼•å¯¼å’Œå¸®åŠ©ç³»ç»Ÿ
- **æ— éšœç¢æ”¯æŒ**ï¼šè‰²ç›²æ¨¡å¼ã€å­—å¹•ç­‰æ— éšœç¢åŠŸèƒ½

### ğŸ“¦ æˆå“åŒ…è£…åˆ¶ä½œ
- **å›¾æ ‡è®¾è®¡**ï¼šæ¸¸æˆå›¾æ ‡å’Œå¯åŠ¨ç”»é¢è®¾è®¡
- **è¥é”€ç´ æ**ï¼šæˆªå›¾ã€è§†é¢‘ã€å®£ä¼ ç‰‡åˆ¶ä½œ
- **æœ¬åœ°åŒ–æ”¯æŒ**ï¼šå¤šè¯­è¨€æ–‡æœ¬å’Œæ–‡åŒ–é€‚é…
- **å‘å¸ƒå‡†å¤‡**ï¼šå„å¹³å°å‘å¸ƒåŒ…çš„ä¼˜åŒ–å’Œé…ç½®

## ä½¿ç”¨æ–¹æ³•

### è§†è§‰æ•ˆæœå‡çº§
```
ç”¨æˆ·: "æ¸¸æˆçš„ç”»é¢çœ‹èµ·æ¥å¾ˆå¹³æ·¡ï¼Œéœ€è¦æå‡è§†è§‰å†²å‡»åŠ›"
ç³»ç»Ÿ: æ™ºèƒ½å‡çº§ï¼š
- æ·»åŠ åŠ¨æ€å…‰å½±å’Œé˜´å½±ç³»ç»Ÿ
- å®ç°å±å¹•ç©ºé—´åå°„å’Œæ³›å…‰æ•ˆæœ
- ä¼˜åŒ–ç²’å­ç‰¹æ•ˆå’Œæè´¨è¡¨ç°
- è°ƒæ•´è‰²å½©åˆ†çº§å’Œå¯¹æ¯”åº¦
- æ·»åŠ ç¯å¢ƒé®æŒ¡å’Œç»†èŠ‚çº¹ç†
```

### éŸ³æ•ˆä½“éªŒä¼˜åŒ–
```
ç”¨æˆ·: "æ¸¸æˆçš„éŸ³æ•ˆå¾ˆå•è°ƒï¼Œéœ€è¦æ›´æ²‰æµ¸çš„éŸ³é¢‘ä½“éªŒ"
ç³»ç»Ÿ: å…¨é¢ä¼˜åŒ–ï¼š
- åˆ›å»ºæƒ…å¢ƒæ„ŸçŸ¥çš„åŠ¨æ€éŸ³æ•ˆ
- è®¾è®¡ç¯å¢ƒéŸ³æ•ˆå±‚æ¬¡å’Œå˜åŒ–
- å®ç°æ™ºèƒ½éŸ³é¢‘æ··åˆç³»ç»Ÿ
- æ·»åŠ 3Dç©ºé—´éŸ³æ•ˆå®šä½
- ä¼˜åŒ–éŸ³æ•ˆè§¦å‘å’Œæ·¡å…¥æ·¡å‡º
```

### ç”¨æˆ·ä½“éªŒæ‰“ç£¨
```
ç”¨æˆ·: "éœ€è¦è®©æ¸¸æˆæ“ä½œæ›´æµç•…ï¼Œç”¨æˆ·ä½“éªŒæ›´å¥½"
ç³»ç»Ÿ: ç²¾ç»†æ‰“ç£¨ï¼š
- ä¼˜åŒ–æ“ä½œæ‰‹åŠ›å’Œå“åº”æ—¶é—´
- æ·»åŠ è§†è§‰å’Œè§¦è§‰åé¦ˆæ•ˆæœ
- å®ç°æµç•…çš„åœºæ™¯è¿‡æ¸¡åŠ¨ç”»
- è®¾è®¡æ™ºèƒ½çš„æ–°æ‰‹å¼•å¯¼ç³»ç»Ÿ
- æ·»åŠ æ— éšœç¢å’Œè¾…åŠ©åŠŸèƒ½
```

### æˆå“å‘å¸ƒå‡†å¤‡
```
ç”¨æˆ·: "æ¸¸æˆå³å°†å‘å¸ƒï¼Œéœ€è¦å‡†å¤‡æ‰€æœ‰å‘å¸ƒç´ æ"
ç³»ç»Ÿ: å®Œæ•´å‡†å¤‡ï¼š
- è®¾è®¡é«˜è´¨é‡æ¸¸æˆå›¾æ ‡å’Œlogo
- åˆ¶ä½œè¥é”€æˆªå›¾å’Œå®£ä¼ è§†é¢‘
- å®ç°å¤šè¯­è¨€æœ¬åœ°åŒ–æ”¯æŒ
- ä¼˜åŒ–å„å¹³å°çš„å‘å¸ƒé…ç½®
- å‡†å¤‡åº”ç”¨å•†åº—æè¿°å’Œå…³é”®è¯
```

## å·¥ä½œæµç¨‹

### 1. äº§å“åˆ†æè¯„ä¼°
```bash
# åˆ†æäº§å“ç°çŠ¶
- è¯„ä¼°è§†è§‰è´¨é‡ç­‰çº§
- è¯†åˆ«ç”¨æˆ·ä½“éªŒç—›ç‚¹
- ç¡®å®šä¼˜åŒ–ä¼˜å…ˆçº§
- åˆ¶å®šç¾åŒ–è®¡åˆ’
```

### 2. è§†è§‰æ•ˆæœå¢å¼º
```bash
# æå‡è§†è§‰è¡¨ç°
- å®ç°é«˜çº§å…‰ç…§æ•ˆæœ
- æ·»åŠ ç²’å­ç‰¹æ•ˆç³»ç»Ÿ
- ä¼˜åŒ–æè´¨å’Œç€è‰²å™¨
- è°ƒæ•´è‰²å½©å’ŒåæœŸå¤„ç†
```

### 3. éŸ³æ•ˆç³»ç»Ÿä¼˜åŒ–
```bash
# å®Œå–„éŸ³é¢‘ä½“éªŒ
- è®¾è®¡åŠ¨æ€éŸ³æ•ˆç³»ç»Ÿ
- åˆ›å»ºç¯å¢ƒéŸ³æ•ˆå±‚æ¬¡
- ä¼˜åŒ–éŸ³é¢‘æ··åˆå¹³è¡¡
- å®ç°ç©ºé—´éŸ³æ•ˆå®šä½
```

### 4. ç”¨æˆ·ä½“éªŒæ”¹è¿›
```bash
# ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ
- æ”¹è¿›æ“ä½œæ‰‹æ„Ÿåé¦ˆ
- å®ç°æµç•…è¿‡æ¸¡åŠ¨ç”»
- æ·»åŠ å¼•å¯¼å’Œå¸®åŠ©ç³»ç»Ÿ
- å®ç°æ— éšœç¢åŠŸèƒ½
```

### 5. æˆå“åŒ…è£…åˆ¶ä½œ
```bash
# å‡†å¤‡å‘å¸ƒææ–™
- è®¾è®¡å›¾æ ‡å’Œè§†è§‰ç´ æ
- åˆ¶ä½œè¥é”€å®£ä¼ å†…å®¹
- å®ç°æœ¬åœ°åŒ–æ”¯æŒ
- ä¼˜åŒ–å‘å¸ƒé…ç½®
```

## MCP å·¥å…·é›†æˆ

### è§†è§‰æ•ˆæœå·¥å…·
- `create_shader_material` - åˆ›å»ºç€è‰²å™¨æè´¨
- `configure_lighting` - é…ç½®å…‰ç…§ç³»ç»Ÿ
- `add_particle_effect` - æ·»åŠ ç²’å­ç‰¹æ•ˆ
- `setup_post_processing` - è®¾ç½®åå¤„ç†æ•ˆæœ

### éŸ³é¢‘å¤„ç†å·¥å…·
- `create_dynamic_audio` - åˆ›å»ºåŠ¨æ€éŸ³æ•ˆ
- `mix_audio_tracks` - æ··åˆéŸ³é¢‘è½¨é“
- `configure_3d_audio` - é…ç½®3DéŸ³æ•ˆ
- `optimize_audio_compression` - ä¼˜åŒ–éŸ³é¢‘å‹ç¼©

### ç”¨æˆ·ä½“éªŒå·¥å…·
- `create_transition_animation` - åˆ›å»ºè¿‡æ¸¡åŠ¨ç”»
- `setup_haptic_feedback` - è®¾ç½®è§¦è§‰åé¦ˆ
- `implement_accessibility` - å®ç°æ— éšœç¢åŠŸèƒ½
- `create_tutorial_system` - åˆ›å»ºæ•™ç¨‹ç³»ç»Ÿ

### å‘å¸ƒå‡†å¤‡å·¥å…·
- `generate_app_icon` - ç”Ÿæˆåº”ç”¨å›¾æ ‡
- `create_screenshot_tool` - åˆ›å»ºæˆªå›¾å·¥å…·
- `setup_localization` - è®¾ç½®æœ¬åœ°åŒ–
- `configure_store_listing` - é…ç½®å•†åº—ä¿¡æ¯

## è§†è§‰æ•ˆæœå¢å¼ºç³»ç»Ÿ

### æ™ºèƒ½å…‰ç…§ç³»ç»Ÿ
```gdscript
# æ™ºèƒ½å…‰ç…§ç®¡ç†å™¨
class_name SmartLightingManager extends Node
@export var enable_dynamic_shadows: bool = true
@export var ambient_light_color: Color = Color(0.3, 0.3, 0.4, 1.0)
@export var time_of_day_system: bool = true

var main_light: DirectionalLight3D
var ambient_light: WorldEnvironment

func _ready() -> void:
    _setup_lighting_system()
    if time_of_day_system:
        _start_time_cycle()

func _setup_lighting_system() -> void:
    # ä¸»å…‰æºè®¾ç½®
    main_light = DirectionalLight3D.new()
    add_child(main_light)
    main_light.light_color = Color.WHITE
    main_light.light_energy = 1.0

    if enable_dynamic_shadows:
        main_light.shadow_enabled = true
        main_light.shadow_bias = 0.1

    # ç¯å¢ƒå…‰è®¾ç½®
    ambient_light = WorldEnvironment.new()
    add_child(ambient_light)
    var environment = Environment.new()
    ambient_light.environment = environment

    environment.ambient_light_color = ambient_light_color
    environment.ambient_light_sky_contribution = 0.5

func enhance_visual_effects() -> void:
    # æ·»åŠ å±å¹•ç©ºé—´åå°„
    var environment = ambient_light.environment
    environment.ssr_enabled = true
    environment.ssr_max_steps = 64

    # æ·»åŠ æ³›å…‰æ•ˆæœ
    environment.glow_enabled = true
    environment.glow_intensity = 1.0
    environment.glow_bloom = 0.2

    # æ·»åŠ æ™¯æ·±æ•ˆæœ
    environment.dof_blur_far_enabled = true
    environment.dof_blur_far_distance = 50.0
    environment.dof_blur_far_amount = 0.3

func _start_time_cycle() -> void:
    var time_timer = Timer.new()
    time_timer.timeout.connect(_update_time_of_day)
    time_timer.wait_time = 60.0  # æ¯åˆ†é’Ÿæ›´æ–°ä¸€æ¬¡
    time_timer.autostart = true
    add_child(time_timer)

func _update_time_of_day() -> void:
    var current_time = Time.get_datetime_dict_from_system()
    var hour = current_time.hour
    var minute = current_time.minute

    # æ ¹æ®æ—¶é—´è°ƒæ•´å…‰ç…§
    var sun_angle = (hour + minute / 60.0) / 24.0 * 2.0 * PI - PI / 2
    main_light.rotation = Vector3(sun_angle, 0, 0)

    # è°ƒæ•´å…‰ç…§é¢œè‰²å’Œå¼ºåº¦
    if hour >= 6 and hour < 12:  # æ—©æ™¨åˆ°ä¸­åˆ
        main_light.light_color = Color.YELLOW
        main_light.light_energy = 1.2
    elif hour >= 12 and hour < 18:  # ä¸‹åˆ
        main_light.light_color = Color.WHITE
        main_light.light_energy = 1.0
    elif hour >= 18 and hour < 21:  # å‚æ™š
        main_light.light_color = Color.ORANGE
        main_light.light_energy = 0.8
    else:  # å¤œæ™š
        main_light.light_color = Color.BLUE
        main_light.light_energy = 0.3
```

### é«˜çº§ç²’å­ç‰¹æ•ˆç³»ç»Ÿ
```gdscript
# é«˜çº§ç²’å­ç‰¹æ•ˆç®¡ç†å™¨
class_name AdvancedEffectManager extends Node
@export var effect_library: Dictionary = {}

func _ready() -> void:
    _create_effect_library()

func _create_effect_library() -> void:
    # åˆ›å»ºå„ç§é¢„å®šä¹‰ç‰¹æ•ˆ
    effect_library["magic_explosion"] = create_magic_explosion_effect()
    effect_library["fire_trail"] = create_fire_trail_effect()
    effect_library["ice_shard"] = create_ice_shard_effect()
    effect_library["healing_aura"] = create_healing_aura_effect()

func create_magic_explosion_effect() -> GPUParticles3D:
    var explosion = GPUParticles3D.new()
    explosion.emitting = false
    explosion.one_shot = true

    # é…ç½®çˆ†ç‚¸ç²’å­æè´¨
    var material = ParticleProcessMaterial.new()
    material.direction = Vector3.UP
    material.spread = 45.0
    material.initial_velocity_min = 5.0
    material.initial_velocity_max = 15.0
    material.gravity = Vector3.DOWN * 9.8
    material.scale_min = 0.1
    material.scale_max = 0.5

    # é¢œè‰²æ¸å˜ï¼šä»ç™½è‰²åˆ°ç´«è‰²åˆ°é€æ˜
    var color_gradient = Gradient.new()
    color_gradient.add_color_point(0.0, Color.WHITE)
    color_gradient.add_color_point(0.3, Color.MAGENTA)
    color_gradient.add_color_point(0.7, Color.PURPLE)
    color_gradient.add_color_point(1.0, Color.TRANSPARENT)

    material.color = color_gradient
    explosion.process_material = material

    # é…ç½®ç²’å­æ•°é‡å’Œç”Ÿå‘½å‘¨æœŸ
    explosion.amount = 200
    explosion.lifetime = 2.0
    explosion.explosiveness = 0.8

    return explosion

func play_effect(effect_name: String, position: Vector3) -> void:
    var effect_template = effect_library.get(effect_name)
    if not effect_template:
        push_warning("Effect not found: " + effect_name)
        return

    var effect_instance = effect_template.duplicate()
    effect_instance.global_position = position
    get_tree().current_scene.add_child(effect_instance)
    effect_instance.emitting = true

    # è‡ªåŠ¨æ¸…ç†
    await effect_instance.finished
    effect_instance.queue_free()

func enhance_environment_effects() -> void:
    # æ·»åŠ ç¯å¢ƒåŠ¨æ€æ•ˆæœ
    add_floating_particles()
    add_atmospheric_glow()
    add_dynamic_fog()

func add_floating_particles() -> void:
    var floating_particles = GPUParticles3D.new()
    floating_particles.position = Vector3(0, 10, 0)
    floating_particles.emitting = true

    var material = ParticleProcessMaterial.new()
    material.direction = Vector3.UP
    material.spread = 360.0
    material.initial_velocity_min = 0.5
    material.initial_velocity_max = 2.0
    material.gravity = Vector3.ZERO

    floating_particles.process_material = material
    floating_particles.amount = 50
    floating_particles.lifetime = 10.0

    get_tree().current_scene.add_child(floating_particles)
```

## éŸ³æ•ˆç³»ç»Ÿä¼˜åŒ–

### åŠ¨æ€éŸ³æ•ˆç®¡ç†å™¨
```gdscript
# åŠ¨æ€éŸ³æ•ˆç®¡ç†å™¨
class_name DynamicAudioManager extends Node
@export var master_bus_index: int = 0
@export var sfx_bus_index: int = 1
@export var music_bus_index: int = 2

var adaptive_audio_system: AdaptiveAudioSystem
var environmental_audio: EnvironmentalAudioSystem
var audio_mixer: SmartAudioMixer

func _ready() -> void:
    _setup_audio_systems()

func _setup_audio_systems() -> void:
    adaptive_audio_system = AdaptiveAudioSystem.new()
    environmental_audio = EnvironmentalAudioSystem.new()
    audio_mixer = SmartAudioMixer.new()

    add_child(adaptive_audio_system)
    add_child(environmental_audio)
    add_child(audio_mixer)

func enhance_audio_experience() -> void:
    # å®ç°æƒ…å¢ƒæ„ŸçŸ¥éŸ³æ•ˆ
    adaptive_audio_system.enable_context_aware_effects()

    # åˆ›å»ºç¯å¢ƒéŸ³æ•ˆå±‚æ¬¡
    environmental_audio.create_atmospheric_layers()

    # ä¼˜åŒ–éŸ³é¢‘æ··åˆ
    audio_mixer.optimize_frequency_spectrum()

# è‡ªé€‚åº”éŸ³é¢‘ç³»ç»Ÿ
class AdaptiveAudioSystem extends Node
var current_game_state: String = "normal"
var audio_context: Dictionary = {}

func enable_context_aware_effects() -> void:
    # æ ¹æ®æ¸¸æˆçŠ¶æ€è°ƒæ•´éŸ³æ•ˆ
    set_process(true)

func _process(_delta: float) -> void:
    var game_state = detect_game_state()
    if game_state != current_game_state:
        update_audio_for_state(game_state)
        current_game_state = game_state

func detect_game_state() -> String:
    # æ£€æµ‹å½“å‰æ¸¸æˆçŠ¶æ€
    var player = get_tree().get_first_node_in_group("player")
    if not player:
        return "normal"

    var health = player.get("health") if player.has_method("get") else 100

    if health < 30:
        return "critical_health"
    elif health < 60:
        return "low_health"
    elif player.get("in_combat", false):
        return "combat"
    else:
        return "normal"

func update_audio_for_state(state: String) -> void:
    match state:
        "critical_health":
            apply_critical_health_audio()
        "low_health":
            apply_low_health_audio()
        "combat":
            apply_combat_audio()
        _:
            apply_normal_audio()

func apply_critical_health_audio() -> void:
    # æ·»åŠ å¿ƒè·³å£°
    play_heartbeat_sound()
    # å‹ä½èƒŒæ™¯éŸ³ä¹
    AudioServer.set_bus_volume_db(AudioServer.get_bus_index("Music"), -10.0)
    # å¢å¼ºéŸ³æ•ˆ
    AudioServer.set_bus_volume_db(AudioServer.get_bus_index("SFX"), 3.0)
```

### 3Dç©ºé—´éŸ³æ•ˆç³»ç»Ÿ
```gdscript
# 3Dç©ºé—´éŸ³æ•ˆç³»ç»Ÿ
class_name SpatialAudioSystem extends Node
@export var max_audio_distance: float = 50.0
@export var audio_attenuation_curve: Curve

var audio_listener: AudioListener3D
var spatial_audio_sources: Dictionary = {}

func _ready() -> void:
    _setup_audio_listener()

func _setup_audio_listener() -> void:
    audio_listener = AudioListener3D.new()
    var player = get_tree().get_first_node_in_group("player")
    if player:
        player.add_child(audio_listener)

func play_spatial_sound(sound_path: String, position: Vector3) -> void:
    var audio_player = AudioStreamPlayer3D.new()
    audio_player.stream = load(sound_path)
    audio_player.global_position = position

    # é…ç½®3DéŸ³æ•ˆå‚æ•°
    audio_player.max_distance = max_audio_distance
    audio_player.unit_size = 1.0
    audio_player.attenuation_model = AudioStreamPlayer3D.ATTENUATION_INVERSE_DISTANCE

    if audio_attenuation_curve:
        audio_player.attenuation_filter_cutoff_hz = audio_attenuation_curve.sample(
            position.distance_to(audio_listener.global_position) / max_audio_distance
        ) * 20000.0

    get_tree().current_scene.add_child(audio_player)
    audio_player.play()

    await audio_player.finished
    audio_player.queue_free()

func create_environmental_reverb(area: Area3D, reverb_preset: AudioEffectReverb.ReverbPreset) -> void:
    var reverb = AudioEffectReverb.new()
    reverb.preset = reverb_preset

    var audio_bus_name = "Reverb_" + str(area.get_instance_id())
    var bus_index = AudioServer.bus_count
    AudioServer.add_bus(bus_index)
    AudioServer.set_bus_name(bus_index, audio_bus_name)
    AudioServer.add_bus_effect(bus_index, reverb)

    # è¿æ¥åŒºåŸŸæ£€æµ‹
    area.body_entered.connect(_on_reverb_area_entered.bind(bus_index))
    area.body_exited.connect(_on_reverb_area_exited.bind(bus_index))

func _on_reverb_area_entered(bus_index: int, body: Node3D) -> void:
    if body.is_in_group("player"):
        var player_audio = body.find_child("AudioPlayer", true, false)
        if player_audio:
            player_audio.bus = AudioServer.get_bus_name(bus_index)
```

## ç”¨æˆ·ä½“éªŒæ”¹è¿›ç³»ç»Ÿ

### æµç•…è¿‡æ¸¡ç³»ç»Ÿ
```gdscript
# æµç•…è¿‡æ¸¡ç®¡ç†å™¨
class_name SmoothTransitionManager extends Node
@export var default_transition_duration: float = 0.5
@export var transition_curve: Tween.TransitionType = Tween.TRANS_CUBIC

var active_transitions: Dictionary = {}

func _ready() -> void:
    # è¿æ¥åœºæ™¯åˆ‡æ¢ä¿¡å·
    get_tree().changing_scene.connect(_on_scene_changing)

func transition_scene(new_scene_path: String, transition_type: String = "fade") -> void:
    var transition_node = create_transition(transition_type)
    get_tree().current_scene.add_child(transition_node)

    await transition_node.play_transition()
    get_tree().change_scene_to_file(new_scene_path)
    await transition_node.play_reverse_transition()
    transition_node.queue_free()

func create_transition(type: String) -> Control:
    match type:
        "fade":
            return create_fade_transition()
        "slide":
            return create_slide_transition()
        "circle":
            return create_circle_transition()
        _:
            return create_fade_transition()

func create_fade_transition() -> Control:
    var fade_overlay = ColorRect.new()
    fade_overlay.color = Color.BLACK
    fade_overlay.set_anchors_and_offsets_preset(Control.PRESET_FULL_RECT)
    fade_overlay.mouse_filter = Control.MOUSE_FILTER_IGNORE

    var tween = create_tween()
    fade_overlay.set_script(preload("res://scripts/transitions/fade_transition.gd"))
    fade_overlay.tween = tween

    return fade_overlay

# æ·¡å…¥æ·¡å‡ºè¿‡æ¸¡è„šæœ¬
extends Control
@export var tween: Tween
@export var duration: float = 0.5

func play_transition() -> void:
    modulate.a = 0.0
    tween.tween_property(self, "modulate:a", 1.0, duration)\
        .set_trans(Tween.TRANS_CUBIC)\
        .set_ease(Tween.EASE_IN_OUT)
    await tween.finished

func play_reverse_transition() -> void:
    modulate.a = 1.0
    tween.tween_property(self, "modulate:a", 0.0, duration)\
        .set_trans(Tween.TRANS_CUBIC)\
        .set_ease(Tween.EASE_IN_OUT)
    await tween.finished
```

### æ‰‹æ„Ÿå’Œåé¦ˆç³»ç»Ÿ
```gdscript
# æ‰‹æ„Ÿå’Œåé¦ˆç³»ç»Ÿ
class_name HapticFeedbackSystem extends Node
@export var vibration_duration: float = 0.1
@export var vibration_intensity: float = 0.5

func _ready() -> void:
    if OS.has_feature("mobile"):
        Input.set_use_accumulated_input(false)

func play_feedback(feedback_type: String, intensity: float = 1.0) -> void:
    match feedback_type:
        "button_press":
            play_button_feedback(intensity)
        "impact":
            play_impact_feedback(intensity)
        "success":
            play_success_feedback(intensity)
        "failure":
            play_failure_feedback(intensity)

func play_button_feedback(intensity: float) -> void:
    # è½»å¾®éœ‡åŠ¨è¡¨ç¤ºæŒ‰é’®æŒ‰ä¸‹
    if OS.has_feature("mobile"):
        Input.vibrate_handheld(50, intensity * vibration_intensity)

    # è§†è§‰åé¦ˆ
    var current_focus = get_viewport().gui_get_focus_owner()
    if current_focus and current_focus has Button:
        var button = current_focus as Button
        create_button_press_effect(button)

func create_button_press_effect(button: Button) -> void:
    var original_scale = button.scale
    var tween = create_tween()

    # æŒ‰ä¸‹æ•ˆæœ
    tween.tween_property(button, "scale", original_scale * 0.95, 0.05)
    tween.tween_property(button, "scale", original_scale * 1.05, 0.1)
    tween.tween_property(button, "scale", original_scale, 0.05)

func enhance_interaction_feedback() -> void:
    # ä¸ºæ‰€æœ‰äº¤äº’å…ƒç´ æ·»åŠ åé¦ˆ
    var buttons = get_tree().get_nodes_in_group("interactable")
    for button in buttons:
        if button is BaseButton:
            button.pressed.connect(_on_interactable_pressed.bind(button))
            button.mouse_entered.connect(_on_interactable_hover.bind(button))

func _on_interactable_pressed(button: BaseButton) -> void:
    play_feedback("button_press")
    create_press_animation(button)

func _on_interactable_hover(button: BaseButton) -> void:
    play_feedback("hover")
    create_hover_effect(button)
```

## æˆå“åŒ…è£…ç³»ç»Ÿ

### å›¾æ ‡å’Œç´ æç”Ÿæˆå™¨
```gdscript
# å›¾æ ‡å’Œç´ æç”Ÿæˆå™¨
class_name IconAndAssetGenerator extends Node
@export var game_name: String = "MyGame"
@export var game_theme_color: Color = Color.BLUE

func generate_app_icons() -> void:
    var icon_sizes = [16, 32, 48, 64, 128, 256, 512, 1024]

    for size in icon_sizes:
        var icon_texture = generate_icon_texture(size)
        save_icon(icon_texture, size)

func generate_icon_texture(size: int) -> ImageTexture:
    var image = Image.create(size, size, false, Image.FORMAT_RGBA8)

    # åˆ›å»ºæ¸å˜èƒŒæ™¯
    for y in range(size):
        for x in range(size):
            var center = Vector2(size / 2.0, size / 2.0)
            var distance = center.distance_to(Vector2(x, y))
            var normalized_distance = distance / (size / 2.0)

            var color = game_theme_color.lerp(Color.BLACK, normalized_distance * 0.7)
            image.set_pixel(x, y, color)

    # æ·»åŠ æ¸¸æˆåç§°ç¼©å†™
    var abbreviation = game_name.substr(0, min(3, game_name.length()))
    # è¿™é‡Œå¯ä»¥ä½¿ç”¨Godotçš„ç»˜å›¾APIæ·»åŠ æ–‡å­—

    var texture = ImageTexture.new()
    texture.set_image(image)
    return texture

func save_icon(texture: ImageTexture, size: int) -> void:
    var image = texture.get_image()
    var save_path = "res://export/icons/icon_" + str(size) + "x" + str(size) + ".png"
    image.save_png(save_path)

func create_screenshots() -> Array[String]:
    var screenshot_paths: Array[String] = []

    # å®šä¹‰è¦æˆªå›¾çš„åœºæ™¯
    var screenshot_scenes = [
        "res://scenes/main_menu.tscn",
        "res://scenes/gameplay.tscn",
        "res://scenes/settings.tscn"
    ]

    for scene_path in screenshot_scenes:
        var screenshot_path = capture_screenshot(scene_path)
        if screenshot_path:
            screenshot_paths.append(screenshot_path)

    return screenshot_paths

func capture_screenshot(scene_path: String) -> String:
    # åˆ‡æ¢åˆ°æŒ‡å®šåœºæ™¯
    get_tree().change_scene_to_file(scene_path)
    await get_tree().process_frame

    # ç­‰å¾…åœºæ™¯ç¨³å®š
    await get_tree().create_timer(1.0).timeout

    # æˆªå›¾
    var screenshot = get_viewport().get_texture().get_image()
    var save_path = "res://export/screenshots/" + scene_path.get_file().get_basename() + ".png"
    screenshot.save_png(save_path)

    return save_path
```

### è¥é”€ç´ æåˆ¶ä½œå™¨
```gdscript
# è¥é”€ç´ æåˆ¶ä½œå™¨
class_name MarketingAssetGenerator extends Node
@export var game_description: String = ""
@export var feature_list: Array[String] = []

func create_store_listing() -> Dictionary:
    var listing = {
        "title": get_game_title(),
        "description": generate_compelling_description(),
        "features": format_feature_list(),
        "screenshots": get_screenshot_paths(),
        "tags": generate_relevant_tags(),
        "categories": suggest_categories()
    }

    return listing

func generate_compelling_description() -> String:
    var description = game_description

    # æ·»åŠ å¸å¼•äººçš„å¼€å¤´
    if not description.begins_with("Experience") and not description.begins_with("Dive"):
        description = "Experience an unforgettable adventure in " + description

    # æ·»åŠ ç‰¹æ€§äº®ç‚¹
    description += "\n\nKey Features:\n"
    for feature in feature_list:
        description += "â€¢ " + feature + "\n"

    return description

func create_promotional_video() -> String:
    var video_path = "res://export/videos/promotional_video.mp4"

    # åˆ›å»ºæ¸¸æˆå½•åˆ¶è„šæœ¬
    var recording_script = create_recording_script()
    execute_recording_sequence(recording_script)

    return video_path

func create_recording_script() -> Array[Dictionary]:
    var script = [
        {
            "scene": "res://scenes/main_menu.tscn",
            "duration": 3.0,
            "actions": ["hover_buttons", "click_start"]
        },
        {
            "scene": "res://scenes/gameplay.tscn",
            "duration": 10.0,
            "actions": ["showcase_gameplay", "highlight_features"]
        },
        {
            "scene": "res://scenes/climax_moment.tscn",
            "duration": 5.0,
            "actions": ["dramatic_camera", "slow_motion"]
        }
    ]

    return script

func execute_recording_sequence(script: Array[Dictionary]) -> void:
    # å®ç°å½•åˆ¶åºåˆ—é€»è¾‘
    for sequence in script:
        await record_sequence(sequence)
```

## æ™ºèƒ½ç‰¹æ€§

### è‡ªåŠ¨è´¨é‡è¯„ä¼°
- **è§†è§‰è´¨é‡è¯„åˆ†**ï¼šè‡ªåŠ¨è¯„ä¼°æ¸¸æˆè§†è§‰è´¨é‡
- **éŸ³é¢‘è´¨é‡åˆ†æ**ï¼šåˆ†æéŸ³é¢‘ä½“éªŒå’Œå¹³è¡¡
- **ç”¨æˆ·ä½“éªŒæŒ‡æ ‡**ï¼šè®¡ç®—ç”¨æˆ·ä½“éªŒæŒ‡æ•°
- **å•†ä¸šåŒ–å»ºè®®**ï¼šæä¾›å•†ä¸šåŒ–æ”¹è¿›å»ºè®®

### æ™ºèƒ½ç¾åŒ–å»ºè®®
- **è‰²å½©ä¼˜åŒ–**ï¼šæ™ºèƒ½è‰²å½©æ­é…å»ºè®®
- **éŸ³æ•ˆå¢å¼º**ï¼šéŸ³æ•ˆæ”¹è¿›å’Œå¢å¼ºå»ºè®®
- **äº¤äº’ä¼˜åŒ–**ï¼šäº¤äº’ä½“éªŒä¼˜åŒ–æ–¹æ¡ˆ
- **å¸‚åœºå®šä½**ï¼šç›®æ ‡ç”¨æˆ·å’Œå¸‚åœºå®šä½å»ºè®®

### ä¸ªæ€§åŒ–å®šåˆ¶
- **é£æ ¼é€‚é…**ï¼šæ ¹æ®æ¸¸æˆç±»å‹å®šåˆ¶ç¾åŒ–é£æ ¼
- **å¹³å°é€‚é…**ï¼šé’ˆå¯¹ä¸åŒå¹³å°çš„ç‰¹è‰²ä¼˜åŒ–
- **ç”¨æˆ·åå¥½**ï¼šæ ¹æ®ç”¨æˆ·åå¥½è°ƒæ•´ç¾åŒ–ç­–ç•¥
- **æ–‡åŒ–é€‚é…**ï¼šè€ƒè™‘ä¸åŒæ–‡åŒ–èƒŒæ™¯çš„è®¾è®¡

## ç¤ºä¾‹å®ç°

### å®Œæ•´äº§å“ç¾åŒ–ç³»ç»Ÿ
```gdscript
# å®Œæ•´äº§å“ç¾åŒ–ç³»ç»Ÿ
class_name ComprehensiveProductPolisher extends Node
@export var polish_level: PolishLevel = PolishLevel.HIGH

enum PolishLevel {
    BASIC,
    STANDARD,
    HIGH,
    PREMIUM
}

var lighting_manager: SmartLightingManager
var effect_manager: AdvancedEffectManager
var audio_manager: DynamicAudioManager
var transition_manager: SmoothTransitionManager
var feedback_system: HapticFeedbackSystem
var asset_generator: IconAndAssetGenerator

func _ready() -> void:
    _initialize_polishing_systems()

func _initialize_polishing_systems() -> void:
    # åˆå§‹åŒ–å„ä¸ªç¾åŒ–ç³»ç»Ÿ
    lighting_manager = SmartLightingManager.new()
    effect_manager = AdvancedEffectManager.new()
    audio_manager = DynamicAudioManager.new()
    transition_manager = SmoothTransitionManager.new()
    feedback_system = HapticFeedbackSystem.new()
    asset_generator = IconAndAssetGenerator.new()

    add_child(lighting_manager)
    add_child(effect_manager)
    add_child(audio_manager)
    add_child(transition_manager)
    add_child(feedback_system)
    add_child(asset_generator)

func apply_comprehensive_polish() -> void:
    print("Starting comprehensive product polishing...")

    match polish_level:
        PolishLevel.BASIC:
            await apply_basic_polish()
        PolishLevel.STANDARD:
            await apply_standard_polish()
        PolishLevel.HIGH:
            await apply_high_polish()
        PolishLevel.PREMIUM:
            await apply_premium_polish()

func apply_high_polish() -> void:
    # è§†è§‰æ•ˆæœå¢å¼º
    lighting_manager.enhance_visual_effects()
    effect_manager.enhance_environment_effects()

    # éŸ³æ•ˆç³»ç»Ÿä¼˜åŒ–
    audio_manager.enhance_audio_experience()

    # ç”¨æˆ·ä½“éªŒæ”¹è¿›
    transition_manager.enhance_all_transitions()
    feedback_system.enhance_interaction_feedback()

    # æˆå“åŒ…è£…åˆ¶ä½œ
    asset_generator.generate_app_icons()
    asset_generator.create_screenshots()

func generate_polish_report() -> Dictionary:
    var report = {
        "visual_quality_score": calculate_visual_quality(),
        "audio_quality_score": calculate_audio_quality(),
        "ux_quality_score": calculate_ux_quality(),
        "market_readiness_score": calculate_market_readiness(),
        "improvement_suggestions": get_improvement_suggestions()
    }

    return report

func calculate_visual_quality() -> float:
    # è®¡ç®—è§†è§‰è´¨é‡è¯„åˆ†
    var lighting_score = 0.9 if lighting_manager else 0.5
    var effects_score = 0.85 if effect_manager else 0.4
    var performance_score = calculate_performance_score()

    return (lighting_score + effects_score + performance_score) / 3.0

func get_improvement_suggestions() -> Array[String]:
    var suggestions: Array[String] = []

    var visual_score = calculate_visual_quality()
    if visual_score < 0.8:
        suggestions.append("Consider enhancing lighting effects and particle systems")

    var audio_score = calculate_audio_quality()
    if audio_score < 0.8:
        suggestions.append("Add more dynamic audio effects and environmental sounds")

    var ux_score = calculate_ux_quality()
    if ux_score < 0.8:
        suggestions.append("Improve transition animations and user feedback")

    return suggestions
```

## è´¨é‡ä¿è¯

### ç¾åŒ–æ•ˆæœéªŒè¯
- **è§†è§‰ä¸€è‡´æ€§**ï¼šç¡®ä¿æ•´ä½“è§†è§‰é£æ ¼ç»Ÿä¸€
- **æ€§èƒ½å½±å“**ï¼šç¡®ä¿ç¾åŒ–ä¸å½±å“æ€§èƒ½
- **ç”¨æˆ·ä½“éªŒ**ï¼šéªŒè¯ç”¨æˆ·ä½“éªŒæ”¹å–„æ•ˆæœ
- **å¹³å°å…¼å®¹**ï¼šç¡®ä¿å„å¹³å°ç¾åŒ–æ•ˆæœä¸€è‡´

### å•†ä¸šåŒ–å‡†å¤‡
- **å•†åº—è¦æ±‚**ï¼šç¬¦åˆå„åº”ç”¨å•†åº—çš„è¦æ±‚
- **æ³•å¾‹æ³•è§„**ï¼šéµå®ˆç›¸å…³æ³•å¾‹æ³•è§„
- **ç”¨æˆ·åé¦ˆ**ï¼šæ”¶é›†å’Œå“åº”ç”¨æˆ·åé¦ˆ
- **ç«äº‰åˆ†æ**ï¼šåˆ†æç«äº‰å¯¹æ‰‹äº§å“

### æŒç»­æ”¹è¿›
- **æ•°æ®æ”¶é›†**ï¼šæ”¶é›†ä½¿ç”¨æ•°æ®å’Œåé¦ˆ
- **æ•ˆæœè¯„ä¼°**ï¼šå®šæœŸè¯„ä¼°ç¾åŒ–æ•ˆæœ
- **è¿­ä»£ä¼˜åŒ–**ï¼šåŸºäºåé¦ˆæŒç»­ä¼˜åŒ–
- **è¶‹åŠ¿è·Ÿéš**ï¼šè·Ÿè¿›è¡Œä¸šå’Œè®¾è®¡è¶‹åŠ¿

## ä½¿ç”¨é™åˆ¶å’Œæ³¨æ„äº‹é¡¹

### æŠ€æœ¯é™åˆ¶
- **ç¡¬ä»¶è¦æ±‚**ï¼šé«˜çº§ç‰¹æ•ˆå¯èƒ½éœ€è¦è¾ƒé«˜ç¡¬ä»¶é…ç½®
- **æ€§èƒ½å¹³è¡¡**ï¼šéœ€è¦åœ¨ç¾åŒ–å’Œæ€§èƒ½ä¹‹é—´æ‰¾åˆ°å¹³è¡¡
- **å¹³å°å·®å¼‚**ï¼šä¸åŒå¹³å°çš„æ¸²æŸ“èƒ½åŠ›å·®å¼‚

### æœ€ä½³å®è·µ
- **æ¸è¿›å¢å¼º**ï¼šä»åŸºç¡€åˆ°é«˜çº§é€æ­¥å¢å¼º
- **ç”¨æˆ·ä¸­å¿ƒ**ï¼šä»¥ç”¨æˆ·ä½“éªŒä¸ºä¸­å¿ƒè¿›è¡Œç¾åŒ–
- **æ€§èƒ½ä¼˜å…ˆ**ï¼šç¡®ä¿ç¾åŒ–ä¸å½±å“æ ¸å¿ƒæ€§èƒ½

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜
1. **å¸§ç‡ä¸‹é™**ï¼šæ£€æŸ¥ç‰¹æ•ˆå’Œåå¤„ç†è®¾ç½®
2. **éŸ³é¢‘é—®é¢˜**ï¼šéªŒè¯éŸ³é¢‘æ€»çº¿é…ç½®
3. **ç•Œé¢å¡é¡¿**ï¼šæ£€æŸ¥è¿‡æ¸¡åŠ¨ç”»å¤æ‚åº¦
4. **ç´ æç”Ÿæˆå¤±è´¥**ï¼šæ£€æŸ¥æ–‡ä»¶è·¯å¾„å’Œæƒé™

### è°ƒè¯•æŠ€å·§
- ä½¿ç”¨æ€§èƒ½ç›‘æ§å·¥å…·
- åˆ†é˜¶æ®µå¯ç”¨ç¾åŒ–æ•ˆæœ
- æ”¶é›†ç”¨æˆ·ä½¿ç”¨åé¦ˆ
- å¯¹æ¯”ç¾åŒ–å‰åçš„è¡¨ç°

## æ›´æ–°æ—¥å¿—

### v1.0.0 (å½“å‰ç‰ˆæœ¬)
- åŸºç¡€è§†è§‰æ•ˆæœå¢å¼º
- éŸ³æ•ˆç³»ç»Ÿä¼˜åŒ–
- ç”¨æˆ·ä½“éªŒæ”¹è¿›
- æˆå“åŒ…è£…åŠŸèƒ½

### è®¡åˆ’åŠŸèƒ½
- AIé©±åŠ¨ç¾åŒ–å»ºè®®
- æ›´å¤šå¹³å°é€‚é…
- é«˜çº§ç‰¹æ•ˆæ¨¡æ¿
- å®æ—¶ç¾åŒ–é¢„è§ˆ

---

**æŠ€èƒ½çŠ¶æ€**: âœ… å¯ç”¨
**æœ€åæ›´æ–°**: 2025-11-09
**å…¼å®¹æ€§**: Godot 4.5+
**ä¾èµ–**: Godot MCP å·¥å…·é›† + æ¸¸æˆè®¾è®¡ç¾åŒ–çŸ¥è¯†